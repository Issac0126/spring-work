<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:mvc="http://www.springframework.org/schema/mvc"
	xsi:schemaLocation="http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-4.3.xsd
		http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd">

	<!-- namespace 탭에서 mvc 기능 추가 -->
	<!-- web.xml에 초기 설정 파일로 이 파일을 추가 -->


	<bean id="userLoginSuccessHandler" class="com.spring.myweb.util.interceptor.UserLoginSuccessHandler"/>
	<bean id="userAuthHandler" class="com.spring.myweb.util.interceptor.UserAuthHandler"/>
	<!-- 인터셉트 더 만들면 여기서 추가해주기.  -->
	


	<mvc:interceptors>
	
		<!-- 로그인 이후에 실행되는 postHandler를 어떤 url에 동작하게 할 지 세팅 -->
		<mvc:interceptor>
			<mvc:mapping path="/user/userLogin"/> <!-- 인터셉트 발동 요청 -->
			<ref bean="userLoginSuccessHandler" />		
		</mvc:interceptor>
		
		<!-- 로그인 권한 체크 인터셉터 url 매핑 -->
		<mvc:interceptor>
			<!-- 허용하지 않는만큼 추가하기 -->
			<mvc:mapping path="/freeboard/regist"/> <!-- 글쓰기 -->
			<!-- <mvc:mapping path="/freeboard/content/**"/> 글 상세보기 -->
			<mvc:mapping path="/user/userMypage"/> <!-- 내 페이지 -->
			<ref bean="userAuthHandler" /> 
		</mvc:interceptor>
		
	
	</mvc:interceptors>






</beans>



























